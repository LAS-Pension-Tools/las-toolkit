<!doctype html>
<html lang="en-GB">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NHS Pension Opt-Out Calculator (England only)</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='50' fill='%23023020'/><text x='50' y='62' font-family='Arial' font-size='60' text-anchor='middle' fill='white'>£</text></svg>'">
  <meta name="description" content="NHS Pension Opt-Out Calculator (England only) — for illustration and awareness purposes only. Check NHS Pensions or the LAS Pensions Department for guidance.">

  <style>
    /* (condensed styles for clarity — same structure as your latest build) */
    :root{
      --brand:#023020; --text:#111; --bg:#FAFAFA; --panel:#fff; --border:#D6D9DC;
      --muted:#4A5568; --focus:#0B69A3; --ok:#1b8555; --warn:#9F3131; --heading-w:800;
    }
    html,body{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Arial,sans-serif;}
    body{background:var(--bg);color:var(--text);line-height:1.5;}
    .wrap{max-width:980px;margin:0 auto;padding:20px;}
    .header{background:var(--brand);color:#fff;padding:20px;border-radius:12px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px;}
    .header h1{margin:0;font-size:22px;font-weight:var(--heading-w)}
    .panel{background:var(--panel);border:2px solid var(--border);border-radius:12px;padding:16px;margin-top:16px;}
    .btn{background:var(--panel);border:2px solid var(--brand);color:var(--brand);padding:8px 12px;border-radius:8px;font-weight:700;cursor:pointer}
    .btn.primary{background:var(--brand);color:#fff}
    .hide{display:none}
    /* Print rules */
    @media print{
      html.print-illustration body{zoom:.8;}
      html.print-illustration .header,html.print-illustration #inputs,html.print-illustration #disclaimer,html.print-illustration #admin,html.print-illustration footer{display:none!important;}
      html.print-illustration #payslipPanel{display:block!important;}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header class="header">
      <div>
        <h1>NHS Pension Opt-Out Calculator (England only)</h1>
        <p class="small" style="margin:0">Illustration only — not financial advice. Check NHS Pensions or the LAS Pensions Department.</p>
      </div>
      <div class="actions">
        <button id="btnPrintIllo80" class="btn primary">Print illustration</button>
        <button id="btnAdmin" class="btn hide">Admin</button>
        <button id="btnANDI" class="btn hide">Run ANDI Accessibility Checker</button>
      </div>
    </header>

    <!-- Example payslip section placeholder -->
    <section id="payslipPanel" class="panel">
      <h2>Payslip illustration (monthly)</h2>
      <p>Example content here...</p>
    </section>

    <footer class="small" style="margin:20px 0;color:var(--muted)">
      NHS Pensions illustration tool. Version 2025/26. © London Ambulance Service.
    </footer>
  </div>

  <script>
    // Admin visibility ?admin=1
    const params = new URLSearchParams(location.search);
    const isAdmin = params.get("admin")==="1";
    if(isAdmin){
      document.getElementById("btnAdmin").classList.remove("hide");
      document.getElementById("btnANDI").classList.remove("hide");
    }

    // Print 80%
    const btnPrint = document.getElementById("btnPrintIllo80");
    btnPrint.addEventListener("click",()=>{
      document.documentElement.classList.add("print-illustration");
      setTimeout(()=>window.print(),50);
      setTimeout(()=>document.documentElement.classList.remove("print-illustration"),2000);
    });

    // Run ANDI (loads from local /andi/ folder)
    document.getElementById("btnANDI").addEventListener("click",()=>{
      const s=document.createElement("script");
      s.src="./andi/andi.js"; // expects /andi/andi.js
      s.onload=()=>console.log("ANDI loaded");
      document.body.appendChild(s);
    });
  </script>
</body>
</html>
